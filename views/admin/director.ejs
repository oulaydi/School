<!DOCTYPE html>
<html lang="en">
    <head>
        <%- include('../partials/head.ejs') %>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"/>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet"/>
        <link rel="stylesheet" href="css/directorPannel.css" />
    </head>
    <body>
        <!-- Header -->
        <%- include('../partials/header.ejs') %>
        <!-- Header Ends!! -->
        <div class="container" id="header">
            <div>
                <h3>الفضاء الخاص بالإدارة</h3>
            </div>
            <div class="container" id="add-rem">
                <button class="btn" title="تسجيل الخروج">
                    <a href="/admin" style="color: #6c757d"
                        ><i
                            id="bi-icon2"
                            class="bi bi-box-arrow-left fw-bold"
                        ></i
                    ></a>
                </button>
                <button class="btn btn-primary my-5">
                    <a href="/add-teacher" class="text-light"
                        >إضافة استاذ(ة)
                        <i id="bi-icon" class="bi bi-plus fw-bold"></i
                    ></a>
                </button>
            </div>
        </div>
        <table
            class="table table-bordered w-75"
            id="center-container"
            dir="rtl"
        >
            <thead>
                <tr class="text-center">
                    <th scope="col">رقم الاستاذ(ة)</th>
                    <th scope="col">الإسم الكامل</th>
                    <th scope="col">إسم المستخدم</th>
                    <th scope="col">يدرس</th>
                    <th scope="col">المادة</th>
                    <th scope="col">إجراء</th>
                </tr>
            </thead>

            <!-- Dispalying the values -->
            <tbody class="table-group-divider">
            <% teachers.forEach(teacher => { %>
                <tr class="text-center">
                    <td><%= teacher.CIN %></td>
                    <td><%= teacher.full_name %></td>
                    <td><%= teacher.username %></td>
                    <td><%= teacher.selected_level %></td>
                    <td><%= teacher.selected_subject %></td>
                    <td class="actions">
                      <button type="button" class="btn btn-warning">
                        <a class="fw-semibold text-decoration-none link-light py-3" href="/edit-teacher/<%= teachers._id %>">تحديث</a>
                      </button>
                      <form action="/delete-teacher/<%= teachers._id %>?_method=DELETE" method="POST">
                        <button type="button" class="btn btn-danger">
                          <a class="fw-semibold text-decoration-none link-light py-3" href="">حذف</a>
                      </button>
                      </form>
                  </td>
                </tr>
              </tbody>
            <% }); %>
        </table>
        <!-- footer -->
        <%- include('../partials/footer.ejs') %>
        <!-- footer ends -->
        <!-- <script>
      const successContainer = document.querySelector('#success-container');

      // Check if the success message is present and then schedule it to disappear after 5 seconds
      if (successContainer) {
          setTimeout(() => {
              successContainer.style.display = 'none';
          }, 4000);
      }
    </script> -->
    </body>
</html>
